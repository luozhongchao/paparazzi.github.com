<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Paparazzi UAS: SPI Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v4.9_devel-402-gd5fd5f9</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__spi.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SPI Interface</div>  </div>
<div class="ingroups"><a class="el" href="group__mcu__periph.html">MCU Peripherals</a></div></div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for SPI Interface:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__spi.png" border="0" alt="" usemap="#group____spi"/>
<map name="group____spi" id="group____spi">
<area shape="rect" id="node2" href="group__mcu__periph.html" title="MCU Peripherals" alt="" coords="7,5,132,35"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspi__transaction.html">spi_transaction</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI transaction structure.  <a href="structspi__transaction.html#details">More...</a><br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspi__periph.html">spi_periph</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8ae4597a9e237b75a108cdde49c302a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8ae4597a9e237b75a108cdde49c302a6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_TRANSACTION_QUEUE_LEN</b>&#160;&#160;&#160;8</td></tr>
<tr class="memitem:ga0fa22f23eb96f7d513dfbe9802596a32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0fa22f23eb96f7d513dfbe9802596a32"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SLAVE0</b>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:ga96cc97e73af8ec7cffa9e1d4526692fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga96cc97e73af8ec7cffa9e1d4526692fc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SLAVE1</b>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:gaf58a9c9069d93bd0664d2197c87ce9ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf58a9c9069d93bd0664d2197c87ce9ff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SLAVE2</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:ga1b6e7752f4befcdab3201ef0136ab1ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1b6e7752f4befcdab3201ef0136ab1ea"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SLAVE3</b>&#160;&#160;&#160;3</td></tr>
<tr class="memitem:ga20816bc66e8bf5ca76796cb07066ec9f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga20816bc66e8bf5ca76796cb07066ec9f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPI_SLAVE4</b>&#160;&#160;&#160;4</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa52d88d236eb343ac78b3192a5c9c4c3"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaa52d88d236eb343ac78b3192a5c9c4c3">SPICallback</a> )(struct <a class="el" href="structspi__transaction.html">spi_transaction</a> *trans)</td></tr>
<tr class="memdesc:gaa52d88d236eb343ac78b3192a5c9c4c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Callback function.  <a href="#gaa52d88d236eb343ac78b3192a5c9c4c3"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga96e7e9bbfca8b326307e8b20ba4706e1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>SPIMode</b> { <b>SPIMaster</b>, 
<b>SPISlave</b>
 }</td></tr>
<tr class="memitem:ga7a54d65ebae5c91cb0b5f28cd7111ae3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga7a54d65ebae5c91cb0b5f28cd7111ae3">SPISlaveSelect</a> { <a class="el" href="group__spi.html#gga7a54d65ebae5c91cb0b5f28cd7111ae3aba395831c171e283b2479f63db99d00c">SPISelectUnselect</a>, 
<a class="el" href="group__spi.html#gga7a54d65ebae5c91cb0b5f28cd7111ae3a0e6e45a45e7561f69cca8cfbe140758b">SPISelect</a>, 
<a class="el" href="group__spi.html#gga7a54d65ebae5c91cb0b5f28cd7111ae3acfd3336d9cd80d7a1b9eb7582848def5">SPIUnselect</a>, 
<a class="el" href="group__spi.html#gga7a54d65ebae5c91cb0b5f28cd7111ae3a7ff904f6a0c454d8b486537f343062f3">SPINoSelect</a>
 }</td></tr>
<tr class="memdesc:ga7a54d65ebae5c91cb0b5f28cd7111ae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI slave selection behavior options.  <a href="group__spi.html#ga7a54d65ebae5c91cb0b5f28cd7111ae3">More...</a><br/></td></tr>
<tr class="memitem:ga133152bd9fd803ef729bdfb9dc488baa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga133152bd9fd803ef729bdfb9dc488baa">SPIClockPhase</a> { <b>SPICphaEdge1</b>, 
<b>SPICphaEdge2</b>
 }</td></tr>
<tr class="memdesc:ga133152bd9fd803ef729bdfb9dc488baa"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI clock phase control options.  <a href="group__spi.html#ga133152bd9fd803ef729bdfb9dc488baa">More...</a><br/></td></tr>
<tr class="memitem:ga585d188d86d5ad9a6fe2d3d11af58ca7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga585d188d86d5ad9a6fe2d3d11af58ca7">SPIClockPolarity</a> { <b>SPICpolIdleLow</b>, 
<b>SPICpolIdleHigh</b>
 }</td></tr>
<tr class="memdesc:ga585d188d86d5ad9a6fe2d3d11af58ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI clock polarity control options.  <a href="group__spi.html#ga585d188d86d5ad9a6fe2d3d11af58ca7">More...</a><br/></td></tr>
<tr class="memitem:gab7f6befabf036cdd2fcc73e688d17f92"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gab7f6befabf036cdd2fcc73e688d17f92">SPIDataSizeSelect</a> { <b>SPIDss8bit</b>, 
<b>SPIDss16bit</b>
 }</td></tr>
<tr class="memdesc:gab7f6befabf036cdd2fcc73e688d17f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Data size transfer. <br/></td></tr>
<tr class="memitem:ga52e70c55efc6a9b04903157a0965baac"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga52e70c55efc6a9b04903157a0965baac">SPITransactionStatus</a> { <br/>
&#160;&#160;<b>SPITransPending</b>, 
<b>SPITransRunning</b>, 
<b>SPITransSuccess</b>, 
<b>SPITransFailed</b>, 
<br/>
&#160;&#160;<b>SPITransDone</b>
<br/>
 }</td></tr>
<tr class="memdesc:ga52e70c55efc6a9b04903157a0965baac"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI transaction status. <br/></td></tr>
<tr class="memitem:ga495f0019475966e28264aaf8e37c6529"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga495f0019475966e28264aaf8e37c6529">SPIStatus</a> { <b>SPIIdle</b>, 
<b>SPIRunning</b>
 }</td></tr>
<tr class="memdesc:ga495f0019475966e28264aaf8e37c6529"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI peripheral status. <br/></td></tr>
<tr class="memitem:gaa97b351a297dda534c3f9cee0d5b4647"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>SPIBitOrder</b> { <b>SPIMSBFirst</b>, 
<b>SPILSBFirst</b>
 }</td></tr>
<tr class="memitem:gaaabe4f085d398b1dabe6526437d0069b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>SPIClockDiv</b> { <br/>
&#160;&#160;<b>SPIDiv2</b>, 
<b>SPIDiv4</b>, 
<b>SPIDiv8</b>, 
<b>SPIDiv16</b>, 
<br/>
&#160;&#160;<b>SPIDiv32</b>, 
<b>SPIDiv64</b>, 
<b>SPIDiv128</b>, 
<b>SPIDiv256</b>
<br/>
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2437939c4fca0a4a5a4f79460ed3f731"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2437939c4fca0a4a5a4f79460ed3f731"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spi0_init</b> (void)</td></tr>
<tr class="memitem:gab8cb9f918fae47c201bf233a0b3b282f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gab8cb9f918fae47c201bf233a0b3b282f">spi0_arch_init</a> (void)</td></tr>
<tr class="memdesc:gab8cb9f918fae47c201bf233a0b3b282f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Architecture dependant SPI0 initialization.  <a href="#gab8cb9f918fae47c201bf233a0b3b282f"></a><br/></td></tr>
<tr class="memitem:ga7da3469436debceb731ecb76c920efda"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7da3469436debceb731ecb76c920efda"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spi1_init</b> (void)</td></tr>
<tr class="memitem:gaaba00866ddaf960c0c761e61f81e5216"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaaba00866ddaf960c0c761e61f81e5216">spi1_arch_init</a> (void)</td></tr>
<tr class="memdesc:gaaba00866ddaf960c0c761e61f81e5216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Architecture dependant SPI1 initialization.  <a href="#gaaba00866ddaf960c0c761e61f81e5216"></a><br/></td></tr>
<tr class="memitem:ga1c8c4e89459606c70f6749714abd4a86"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1c8c4e89459606c70f6749714abd4a86"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spi2_init</b> (void)</td></tr>
<tr class="memitem:gae6c7e2bb3fb354f3b98282386b41bf70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gae6c7e2bb3fb354f3b98282386b41bf70">spi2_arch_init</a> (void)</td></tr>
<tr class="memdesc:gae6c7e2bb3fb354f3b98282386b41bf70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Architecture dependant SPI2 initialization.  <a href="#gae6c7e2bb3fb354f3b98282386b41bf70"></a><br/></td></tr>
<tr class="memitem:ga6c0861f0c2184cab82f883ca29312011"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga6c0861f0c2184cab82f883ca29312011">spi_init</a> (struct <a class="el" href="structspi__periph.html">spi_periph</a> *p)</td></tr>
<tr class="memdesc:ga6c0861f0c2184cab82f883ca29312011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a spi peripheral.  <a href="#ga6c0861f0c2184cab82f883ca29312011"></a><br/></td></tr>
<tr class="memitem:gafc9125c5764a6749703ae4f1303a16f3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafc9125c5764a6749703ae4f1303a16f3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gafc9125c5764a6749703ae4f1303a16f3">spi_init_slaves</a> (void)</td></tr>
<tr class="memdesc:gafc9125c5764a6749703ae4f1303a16f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all used slaves and uselect them. <br/></td></tr>
<tr class="memitem:gaf1bcfc102840a0e6287b4db20bd78337"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaf1bcfc102840a0e6287b4db20bd78337">spi_submit</a> (struct <a class="el" href="structspi__periph.html">spi_periph</a> *p, struct <a class="el" href="structspi__transaction.html">spi_transaction</a> *t)</td></tr>
<tr class="memdesc:gaf1bcfc102840a0e6287b4db20bd78337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a spi transaction.  <a href="#gaf1bcfc102840a0e6287b4db20bd78337"></a><br/></td></tr>
<tr class="memitem:gad43916477f5d87b42eaa7d2099771568"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gad43916477f5d87b42eaa7d2099771568">spi_slave_select</a> (uint8_t slave)</td></tr>
<tr class="memdesc:gad43916477f5d87b42eaa7d2099771568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select a slave.  <a href="#gad43916477f5d87b42eaa7d2099771568"></a><br/></td></tr>
<tr class="memitem:ga99507da72932c02e5d8daf9a7170ed69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga99507da72932c02e5d8daf9a7170ed69">spi_slave_unselect</a> (uint8_t slave)</td></tr>
<tr class="memdesc:ga99507da72932c02e5d8daf9a7170ed69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unselect a slave.  <a href="#ga99507da72932c02e5d8daf9a7170ed69"></a><br/></td></tr>
<tr class="memitem:ga2db1b869a8aea431e3d3e63106290db9"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga2db1b869a8aea431e3d3e63106290db9">spi_lock</a> (struct <a class="el" href="structspi__periph.html">spi_periph</a> *p, uint8_t slave)</td></tr>
<tr class="memdesc:ga2db1b869a8aea431e3d3e63106290db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the SPI fifo.  <a href="#ga2db1b869a8aea431e3d3e63106290db9"></a><br/></td></tr>
<tr class="memitem:ga5e9947e5b87e3a86a773b4a174ec6f08"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga5e9947e5b87e3a86a773b4a174ec6f08">spi_resume</a> (struct <a class="el" href="structspi__periph.html">spi_periph</a> *p, uint8_t slave)</td></tr>
<tr class="memdesc:ga5e9947e5b87e3a86a773b4a174ec6f08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume the SPI fifo.  <a href="#ga5e9947e5b87e3a86a773b4a174ec6f08"></a><br/></td></tr>
<tr class="memitem:ga7321d472bfa9548243ea6f22cf3ff8a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga7321d472bfa9548243ea6f22cf3ff8a4">spi_slave_init</a> (struct <a class="el" href="structspi__periph.html">spi_periph</a> *p)</td></tr>
<tr class="memdesc:ga7321d472bfa9548243ea6f22cf3ff8a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a spi peripheral in slave mode.  <a href="#ga7321d472bfa9548243ea6f22cf3ff8a4"></a><br/></td></tr>
<tr class="memitem:ga02a7edceaff0d9adc8e9b236b9915415"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga02a7edceaff0d9adc8e9b236b9915415">spi_slave_register</a> (struct <a class="el" href="structspi__periph.html">spi_periph</a> *p, struct <a class="el" href="structspi__transaction.html">spi_transaction</a> *t)</td></tr>
<tr class="memdesc:ga02a7edceaff0d9adc8e9b236b9915415"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a spi transaction in slave mode (only one transaction can be registered).  <a href="#ga02a7edceaff0d9adc8e9b236b9915415"></a><br/></td></tr>
<tr class="memitem:ga8d7be322aab918538305c7da8af7233e"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga8d7be322aab918538305c7da8af7233e">spi_slave_wait</a> (struct <a class="el" href="structspi__periph.html">spi_periph</a> *p)</td></tr>
<tr class="memdesc:ga8d7be322aab918538305c7da8af7233e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialized and wait for the next transaction.  <a href="#ga8d7be322aab918538305c7da8af7233e"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gae920399b05f855df64dd584fe647eab3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structspi__periph.html">spi_periph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gae920399b05f855df64dd584fe647eab3">spi0</a></td></tr>
<tr class="memitem:gaedccba8390a9d630d522a0b282c4f9b9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaedccba8390a9d630d522a0b282c4f9b9"></a>
struct <a class="el" href="structspi__periph.html">spi_periph</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spi1</b></td></tr>
<tr class="memitem:gabc3004247e95c09c15cfdf7d3e6402b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabc3004247e95c09c15cfdf7d3e6402b7"></a>
struct <a class="el" href="structspi__periph.html">spi_periph</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spi2</b></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<h2>Typedef Documentation</h2>
<a class="anchor" id="gaa52d88d236eb343ac78b3192a5c9c4c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* SPICallback)(struct <a class="el" href="structspi__transaction.html">spi_transaction</a> *trans)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI Callback function. </p>
<p>If not NULL (or 0), call function (with transaction as parameter) before or after transaction, e.g to allow execution of hardware specific actions </p>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00127">127</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga133152bd9fd803ef729bdfb9dc488baa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga133152bd9fd803ef729bdfb9dc488baa">SPIClockPhase</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI clock phase control options. </p>
<p>Control whether data line is sampled at first or second edge of clock signal. </p>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00067">67</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga585d188d86d5ad9a6fe2d3d11af58ca7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga585d188d86d5ad9a6fe2d3d11af58ca7">SPIClockPolarity</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI clock polarity control options. </p>
<p>Control whether clock line is held low or high in idle state. </p>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00076">76</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7a54d65ebae5c91cb0b5f28cd7111ae3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi.html#ga7a54d65ebae5c91cb0b5f28cd7111ae3">SPISlaveSelect</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SPI slave selection behavior options. </p>
<p>Default operation should be SelectUnselected, but some peripherals might need some special control. Use non-default control only if you know what you're doing. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga7a54d65ebae5c91cb0b5f28cd7111ae3aba395831c171e283b2479f63db99d00c"></a>SPISelectUnselect</em>&nbsp;</td><td>
<p>slave is selected before transaction and unselected after </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga7a54d65ebae5c91cb0b5f28cd7111ae3a0e6e45a45e7561f69cca8cfbe140758b"></a>SPISelect</em>&nbsp;</td><td>
<p>slave is selected before transaction but not unselected </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga7a54d65ebae5c91cb0b5f28cd7111ae3acfd3336d9cd80d7a1b9eb7582848def5"></a>SPIUnselect</em>&nbsp;</td><td>
<p>slave is not selected but unselected after transaction </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga7a54d65ebae5c91cb0b5f28cd7111ae3a7ff904f6a0c454d8b486537f343062f3"></a>SPINoSelect</em>&nbsp;</td><td>
<p>slave is not selected nor unselected </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="spi_8h_source.html#l00056">56</a> of file <a class="el" href="spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="gab8cb9f918fae47c201bf233a0b3b282f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi0_arch_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Architecture dependant SPI0 initialization. </p>
<p>Must be implemented by underlying architecture </p>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00396">396</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p>References <a class="el" href="spi_8c_source.html#l00035">spi0</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00188">spi_arch_int_enable()</a>, and <a class="el" href="spi_8h_source.html#l00166">spi_periph::status</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gab8cb9f918fae47c201bf233a0b3b282f_cgraph.png" border="0" usemap="#group__spi_gab8cb9f918fae47c201bf233a0b3b282f_cgraph" alt=""/></div>
<map name="group__spi_gab8cb9f918fae47c201bf233a0b3b282f_cgraph" id="group__spi_gab8cb9f918fae47c201bf233a0b3b282f_cgraph">
<area shape="rect" id="node3" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA rx channel interrupt." alt="" coords="164,5,311,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaaba00866ddaf960c0c761e61f81e5216"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi1_arch_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Architecture dependant SPI1 initialization. </p>
<p>Must be implemented by underlying architecture </p>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00444">444</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p>References <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00414">MASTER_SSP_CPHA</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00413">MASTER_SSP_CPOL</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00411">MASTER_SSP_DSS</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00412">MASTER_SSP_FRF</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00418">MASTER_SSP_LBM</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00420">MASTER_SSP_MS</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00415">MASTER_SSP_SCR</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00421">MASTER_SSP_SOD</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00372">SPI1_VIC_SLOT</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00188">spi_arch_int_enable()</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00428">SSPCPSR_VAL</a>, and <a class="el" href="spi_8h_source.html#l00166">spi_periph::status</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gaaba00866ddaf960c0c761e61f81e5216_cgraph.png" border="0" usemap="#group__spi_gaaba00866ddaf960c0c761e61f81e5216_cgraph" alt=""/></div>
<map name="group__spi_gaaba00866ddaf960c0c761e61f81e5216_cgraph" id="group__spi_gaaba00866ddaf960c0c761e61f81e5216_cgraph">
<area shape="rect" id="node3" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA rx channel interrupt." alt="" coords="164,5,311,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae6c7e2bb3fb354f3b98282386b41bf70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi2_arch_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Architecture dependant SPI2 initialization. </p>
<p>Must be implemented by underlying architecture </p>

<p>Definition at line <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00339">339</a> of file <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p>References <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00188">spi_arch_int_enable()</a>, and <a class="el" href="spi_8h_source.html#l00166">spi_periph::status</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gae6c7e2bb3fb354f3b98282386b41bf70_cgraph.png" border="0" usemap="#group__spi_gae6c7e2bb3fb354f3b98282386b41bf70_cgraph" alt=""/></div>
<map name="group__spi_gae6c7e2bb3fb354f3b98282386b41bf70_cgraph" id="group__spi_gae6c7e2bb3fb354f3b98282386b41bf70_cgraph">
<area shape="rect" id="node3" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA rx channel interrupt." alt="" coords="164,5,311,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6c0861f0c2184cab82f883ca29312011"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__periph.html">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a spi peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be configured </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi_8c_source.html#l00064">64</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00166">spi_periph::status</a>, and <a class="el" href="spi_8h_source.html#l00173">spi_periph::suspend</a>.</p>

</div>
</div>
<a class="anchor" id="ga2db1b869a8aea431e3d3e63106290db9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t spi_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__periph.html">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slave</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the SPI fifo. </p>
<p>This will stop the SPI fifo after the current transaction if any, or before the next one if none are pending. Only the slave that locks the fifo can unlock it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">slave</td><td>slave id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if correctly locked </dd></dl>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00533">533</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p>References <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00194">spi_arch_int_disable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00188">spi_arch_int_enable()</a>, and <a class="el" href="spi_8h_source.html#l00173">spi_periph::suspend</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga2db1b869a8aea431e3d3e63106290db9_cgraph.png" border="0" usemap="#group__spi_ga2db1b869a8aea431e3d3e63106290db9_cgraph" alt=""/></div>
<map name="group__spi_ga2db1b869a8aea431e3d3e63106290db9_cgraph" id="group__spi_ga2db1b869a8aea431e3d3e63106290db9_cgraph">
<area shape="rect" id="node3" href="stm32_2mcu__periph_2spi__arch_8c.html#a42f17f52b327c1192801fc39493f43c5" title="Disable DMA rx channel interrupt." alt="" coords="127,5,276,35"/><area shape="rect" id="node5" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA rx channel interrupt." alt="" coords="128,59,275,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5e9947e5b87e3a86a773b4a174ec6f08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t spi_resume </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__periph.html">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slave</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume the SPI fifo. </p>
<p>Only the slave that locks the fifo can unlock it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">slave</td><td>slave id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if correctly unlocked </dd></dl>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00545">545</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p>References <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00194">spi_arch_int_disable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00188">spi_arch_int_enable()</a>, <a class="el" href="spi_8h_source.html#l00166">spi_periph::status</a>, <a class="el" href="spi_8h_source.html#l00173">spi_periph::suspend</a>, and <a class="el" href="spi_8h_source.html#l00162">spi_periph::trans</a>.</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga5e9947e5b87e3a86a773b4a174ec6f08_cgraph.png" border="0" usemap="#group__spi_ga5e9947e5b87e3a86a773b4a174ec6f08_cgraph" alt=""/></div>
<map name="group__spi_ga5e9947e5b87e3a86a773b4a174ec6f08_cgraph" id="group__spi_ga5e9947e5b87e3a86a773b4a174ec6f08_cgraph">
<area shape="rect" id="node3" href="stm32_2mcu__periph_2spi__arch_8c.html#a42f17f52b327c1192801fc39493f43c5" title="Disable DMA rx channel interrupt." alt="" coords="151,5,300,35"/><area shape="rect" id="node5" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA rx channel interrupt." alt="" coords="152,59,299,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7321d472bfa9548243ea6f22cf3ff8a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_slave_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__periph.html">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a spi peripheral in slave mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be configured </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi_8c_source.html#l00106">106</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00166">spi_periph::status</a>, and <a class="el" href="spi_8h_source.html#l00173">spi_periph::suspend</a>.</p>

</div>
</div>
<a class="anchor" id="ga02a7edceaff0d9adc8e9b236b9915415"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t spi_slave_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__periph.html">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__transaction.html">spi_transaction</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a spi transaction in slave mode (only one transaction can be registered). </p>
<p>Must be implemented by the underlying architecture </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">t</td><td>spi transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return true if registered with success </dd></dl>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00645">645</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00147">spi_transaction::cpha</a>, <a class="el" href="spi_8h_source.html#l00146">spi_transaction::cpol</a>, <a class="el" href="spi_8h_source.html#l00148">spi_transaction::dss</a>, <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00118">SpiSetDataSize()</a>, <a class="el" href="spi_8h_source.html#l00166">spi_periph::status</a>, and <a class="el" href="spi_8h_source.html#l00162">spi_periph::trans</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_ga02a7edceaff0d9adc8e9b236b9915415_cgraph.png" border="0" usemap="#group__spi_ga02a7edceaff0d9adc8e9b236b9915415_cgraph" alt=""/></div>
<map name="group__spi_ga02a7edceaff0d9adc8e9b236b9915415_cgraph" id="group__spi_ga02a7edceaff0d9adc8e9b236b9915415_cgraph">
<area shape="rect" id="node3" href="lpc21_2mcu__periph_2spi__arch_8c.html#ad816c76c7fe692f51942efa74bdb1d86" title="Set the SPI data size to 8 or 16bit." alt="" coords="189,5,312,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad43916477f5d87b42eaa7d2099771568"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_slave_select </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slave</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select a slave. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>slave id </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00525">525</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga99507da72932c02e5d8daf9a7170ed69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_slave_unselect </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>slave</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unselect a slave. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>slave id </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00529">529</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga8d7be322aab918538305c7da8af7233e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t spi_slave_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__periph.html">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialized and wait for the next transaction. </p>
<p>If a transaction is registered for this peripheral, the spi will be waiting for a communication from the master </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return true if a transaction was register for this peripheral </dd></dl>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00668">668</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p>References <a class="el" href="spi_8h_source.html#l00162">spi_periph::trans</a>.</p>

</div>
</div>
<a class="anchor" id="gaf1bcfc102840a0e6287b4db20bd78337"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t spi_submit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__periph.html">spi_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__transaction.html">spi_transaction</a> *&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit a spi transaction. </p>
<p>Must be implemented by the underlying architecture </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>spi peripheral to be used </td></tr>
    <tr><td class="paramname">t</td><td>spi transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if insertion to the transaction queue succeded </dd></dl>

<p>Definition at line <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00469">469</a> of file <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html">spi_arch.c</a>.</p>

<p>References <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00194">spi_arch_int_disable()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00188">spi_arch_int_enable()</a>, <a class="el" href="spi_8h_source.html#l00166">spi_periph::status</a>, <a class="el" href="spi_8h_source.html#l00173">spi_periph::suspend</a>, and <a class="el" href="spi_8h_source.html#l00162">spi_periph::trans</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__spi_gaf1bcfc102840a0e6287b4db20bd78337_cgraph.png" border="0" usemap="#group__spi_gaf1bcfc102840a0e6287b4db20bd78337_cgraph" alt=""/></div>
<map name="group__spi_gaf1bcfc102840a0e6287b4db20bd78337_cgraph" id="group__spi_gaf1bcfc102840a0e6287b4db20bd78337_cgraph">
<area shape="rect" id="node3" href="stm32_2mcu__periph_2spi__arch_8c.html#a42f17f52b327c1192801fc39493f43c5" title="Disable DMA rx channel interrupt." alt="" coords="145,5,295,35"/><area shape="rect" id="node5" href="stm32_2mcu__periph_2spi__arch_8c.html#a92d285e5b860130426aa3ce1369df0c9" title="Enable DMA rx channel interrupt." alt="" coords="147,59,293,88"/></map>
</div>
</p>

</div>
</div>
<h2>Variable Documentation</h2>
<a class="anchor" id="gae920399b05f855df64dd584fe647eab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structspi__periph.html">spi_periph</a> spi0</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>SPI error struct </dd></dl>

<p>Definition at line <a class="el" href="spi_8c_source.html#l00035">35</a> of file <a class="el" href="spi_8c_source.html">spi.c</a>.</p>

<p>Referenced by <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00725">dma2_channel1_isr()</a>, <a class="el" href="stm32_2mcu__periph_2spi__arch_8c_source.html#l00744">dma2_channel2_isr()</a>, and <a class="el" href="lpc21_2mcu__periph_2spi__arch_8c_source.html#l00396">spi0_arch_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jan 17 2013 14:39:38 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
